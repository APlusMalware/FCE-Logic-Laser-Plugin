using System;

namespace APlusMalware.LogicLaserPlugin
{
    public class LogicStorageSensor : LogicSensor
    {
        public LogicStorageSensor(Segment segment, Int64 x, Int64 y, Int64 z, UInt16 cubeType, Byte flags, UInt16 value)
            : base(segment, x, y, z, cubeType, flags, value)
        {
        }

        protected override Byte CalculateOutput(SegmentEntity entity, UInt16 data)
        {
            StorageHopper hopper = entity as StorageHopper;
            if (hopper == null)
                return 0;
            return (Byte)Math.Min(hopper.mnStorageUsed, Byte.MaxValue);
        }
    }
}
