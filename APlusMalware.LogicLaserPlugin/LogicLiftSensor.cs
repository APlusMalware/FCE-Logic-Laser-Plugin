using System;

namespace APlusMalware.LogicLaserPlugin
{
    public class LogicLiftSensor : LogicSensor
    {
        public LogicLiftSensor(Segment segment, Int64 x, Int64 y, Int64 z, UInt16 cubeType, Byte flags, UInt16 value)
            : base(segment, x, y, z, cubeType, flags, value)
        {
        }

        protected override Byte CalculateOutput(SegmentEntity entity, UInt16 data)
        {
            T1_LiftEntity liftEntity = entity as T1_LiftEntity;
            if (liftEntity == null)
                return 0;
            Double extend = Math.Min(Math.Round(liftEntity.mrCurrentExtend, MidpointRounding.AwayFromZero), Byte.MaxValue);
            return (Byte)extend;
        }
    }
}