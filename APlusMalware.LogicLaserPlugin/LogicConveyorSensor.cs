using System;

namespace APlusMalware.LogicLaserPlugin
{
    public class LogicConveyorSensor : LogicSensor
    {
        public LogicConveyorSensor(Segment segment, Int64 x, Int64 y, Int64 z, UInt16 cubeType, Byte flags, UInt16 value)
            : base(segment, x, y, z, cubeType, flags, value)
        {
        }

        protected override Byte CalculateOutput(SegmentEntity entity, UInt16 data)
        {
            ConveyorEntity conveyorEntity = entity as ConveyorEntity;
            if (conveyorEntity == null)
                return 0;
            Single timer = conveyorEntity.mrCarryTimer;
            return (Byte)(timer * 255f);
        }
    }
}
